{
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Promise = require('bluebird');\nvar join = require('path').join;\nvar requireAllAndApply = require('./server/lib/require_all_and_apply');\nvar pluginSelfCheck = require('./server/lib/plugin_self_check');\n\nmodule.exports = function (kibana) {\n  return new kibana.Plugin({\n    require: ['elasticsearch'],\n    name: 'marvel',\n\n    uiExports: {\n      app: {\n        title: 'Marvel',\n        description: 'Monitoring for Elasticsearch',\n        main: 'plugins/marvel/marvel',\n        injectVars: function injectVars(server, options) {\n          var config = server.config();\n          return {\n            maxBucketSize: config.get('marvel.max_bucket_size'),\n            minIntervalSeconds: config.get('marvel.min_interval_seconds'),\n            kbnIndex: config.get('kibana.index'),\n            esApiVersion: config.get('elasticsearch.apiVersion'),\n            esShardTimeout: config.get('elasticsearch.shardTimeout'),\n            statsReportUrl: config.get('marvel.stats_report_url'),\n            reportStats: config.get('marvel.report_stats'),\n            marvelIndexPrefix: config.get('marvel.index_prefix'),\n            googleTagManagerId: config.get('marvel.google_tag_manager_id')\n          };\n        }\n      }\n    },\n\n    config: function config(Joi) {\n      return Joi.object({\n        enabled: Joi.boolean()['default'](true),\n        index: Joi.string()['default']('.marvel-es-data-1'),\n        index_prefix: Joi.string()['default']('.marvel-es-1-'),\n        missing_intervals: Joi.number()['default'](12),\n        max_bucket_size: Joi.number()['default'](10000),\n        min_interval_seconds: Joi.number()['default'](10),\n        report_stats: Joi.boolean()['default'](true),\n        google_tag_manager_id: Joi.string()['default']('GTM-WXMHGM'),\n        node_resolver: Joi.string().regex(/^(?:transport_address|name)$/)['default']('transport_address'),\n        stats_report_url: Joi.when('$dev', {\n          is: true,\n          then: Joi.string()['default']('../api/marvel/v1/phone-home'),\n          otherwise: Joi.string()['default']('https://marvel-stats.elasticsearch.com/appdata/marvelOpts')\n        }),\n        agent: Joi.object({\n          interval: Joi.string().regex(/[\\d\\.]+[yMwdhms]/)['default']('10s')\n        })['default']()\n      })['default']();\n    },\n\n    init: function init(server, options) {\n      // Make sure the Marvel index is created and the Kibana version is supported\n      pluginSelfCheck(this, server);\n      // Require all the routes\n      requireAllAndApply(join(__dirname, 'server', 'routes', '**', '*.js'), server);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDbEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNoQyxJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO0FBQ3ZFLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDOztBQUVoRSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsTUFBTSxFQUFFO0FBQ2pDLFNBQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZCLFdBQU8sRUFBRSxDQUFDLGVBQWUsQ0FBQztBQUMxQixRQUFJLEVBQUUsUUFBUTs7QUFFZCxhQUFTLEVBQUU7QUFDVCxTQUFHLEVBQUU7QUFDSCxhQUFLLEVBQUUsUUFBUTtBQUNmLG1CQUFXLEVBQUUsOEJBQThCO0FBQzNDLFlBQUksRUFBRSx1QkFBdUI7QUFDN0Isa0JBQVUsRUFBRSxvQkFBVSxNQUFNLEVBQUUsT0FBTyxFQUFFO0FBQ3JDLGNBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUM3QixpQkFBTztBQUNMLHlCQUFhLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQztBQUNuRCw4QkFBa0IsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLDZCQUE2QixDQUFDO0FBQzdELG9CQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFDcEMsd0JBQVksRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDO0FBQ3BELDBCQUFjLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQztBQUN4RCwwQkFBYyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUM7QUFDckQsdUJBQVcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO0FBQzlDLDZCQUFpQixFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUM7QUFDcEQsOEJBQWtCLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyw4QkFBOEIsQ0FBQztXQUMvRCxDQUFDO1NBQ0g7T0FDRjtLQUNGOztBQUVELFVBQU0sRUFBRSxnQkFBVSxHQUFHLEVBQUU7QUFDckIsYUFBTyxHQUFHLENBQUMsTUFBTSxDQUFDO0FBQ2hCLGVBQU8sRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLFdBQVEsQ0FBQyxJQUFJLENBQUM7QUFDcEMsYUFBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBUSxDQUFDLG1CQUFtQixDQUFDO0FBQ2hELG9CQUFZLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxXQUFRLENBQUMsZUFBZSxDQUFDO0FBQ25ELHlCQUFpQixFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBUSxDQUFDLEVBQUUsQ0FBQztBQUMzQyx1QkFBZSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBUSxDQUFDLEtBQUssQ0FBQztBQUM1Qyw0QkFBb0IsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLFdBQVEsQ0FBQyxFQUFFLENBQUM7QUFDOUMsb0JBQVksRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLFdBQVEsQ0FBQyxJQUFJLENBQUM7QUFDekMsNkJBQXFCLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxXQUFRLENBQUMsWUFBWSxDQUFDO0FBQ3pELHFCQUFhLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxXQUFRLENBQUMsbUJBQW1CLENBQUM7QUFDOUYsd0JBQWdCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDakMsWUFBRSxFQUFFLElBQUk7QUFDUixjQUFJLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxXQUFRLENBQUMsNkJBQTZCLENBQUM7QUFDekQsbUJBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLFdBQVEsQ0FBQywyREFBMkQsQ0FBQztTQUM3RixDQUFDO0FBQ0YsYUFBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDaEIsa0JBQVEsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLFdBQVEsQ0FBQyxLQUFLLENBQUM7U0FDaEUsQ0FBQyxXQUFRLEVBQUU7T0FDYixDQUFDLFdBQVEsRUFBRSxDQUFDO0tBQ2Q7O0FBRUQsUUFBSSxFQUFFLGNBQVUsTUFBTSxFQUFFLE9BQU8sRUFBRTs7QUFFL0IscUJBQWUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7O0FBRTlCLHdCQUFrQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDL0U7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG52YXIgam9pbiA9IHJlcXVpcmUoJ3BhdGgnKS5qb2luO1xudmFyIHJlcXVpcmVBbGxBbmRBcHBseSA9IHJlcXVpcmUoJy4vc2VydmVyL2xpYi9yZXF1aXJlX2FsbF9hbmRfYXBwbHknKTtcbnZhciBwbHVnaW5TZWxmQ2hlY2sgPSByZXF1aXJlKCcuL3NlcnZlci9saWIvcGx1Z2luX3NlbGZfY2hlY2snKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2liYW5hKSB7XG4gIHJldHVybiBuZXcga2liYW5hLlBsdWdpbih7XG4gICAgcmVxdWlyZTogWydlbGFzdGljc2VhcmNoJ10sXG4gICAgbmFtZTogJ21hcnZlbCcsXG5cbiAgICB1aUV4cG9ydHM6IHtcbiAgICAgIGFwcDoge1xuICAgICAgICB0aXRsZTogJ01hcnZlbCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTW9uaXRvcmluZyBmb3IgRWxhc3RpY3NlYXJjaCcsXG4gICAgICAgIG1haW46ICdwbHVnaW5zL21hcnZlbC9tYXJ2ZWwnLFxuICAgICAgICBpbmplY3RWYXJzOiBmdW5jdGlvbiAoc2VydmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgdmFyIGNvbmZpZyA9IHNlcnZlci5jb25maWcoKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF4QnVja2V0U2l6ZTogY29uZmlnLmdldCgnbWFydmVsLm1heF9idWNrZXRfc2l6ZScpLFxuICAgICAgICAgICAgbWluSW50ZXJ2YWxTZWNvbmRzOiBjb25maWcuZ2V0KCdtYXJ2ZWwubWluX2ludGVydmFsX3NlY29uZHMnKSxcbiAgICAgICAgICAgIGtibkluZGV4OiBjb25maWcuZ2V0KCdraWJhbmEuaW5kZXgnKSxcbiAgICAgICAgICAgIGVzQXBpVmVyc2lvbjogY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5hcGlWZXJzaW9uJyksXG4gICAgICAgICAgICBlc1NoYXJkVGltZW91dDogY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5zaGFyZFRpbWVvdXQnKSxcbiAgICAgICAgICAgIHN0YXRzUmVwb3J0VXJsOiBjb25maWcuZ2V0KCdtYXJ2ZWwuc3RhdHNfcmVwb3J0X3VybCcpLFxuICAgICAgICAgICAgcmVwb3J0U3RhdHM6IGNvbmZpZy5nZXQoJ21hcnZlbC5yZXBvcnRfc3RhdHMnKSxcbiAgICAgICAgICAgIG1hcnZlbEluZGV4UHJlZml4OiBjb25maWcuZ2V0KCdtYXJ2ZWwuaW5kZXhfcHJlZml4JyksXG4gICAgICAgICAgICBnb29nbGVUYWdNYW5hZ2VySWQ6IGNvbmZpZy5nZXQoJ21hcnZlbC5nb29nbGVfdGFnX21hbmFnZXJfaWQnKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29uZmlnOiBmdW5jdGlvbiAoSm9pKSB7XG4gICAgICByZXR1cm4gSm9pLm9iamVjdCh7XG4gICAgICAgIGVuYWJsZWQ6IEpvaS5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICAgICAgaW5kZXg6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcubWFydmVsLWVzLWRhdGEtMScpLFxuICAgICAgICBpbmRleF9wcmVmaXg6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcubWFydmVsLWVzLTEtJyksXG4gICAgICAgIG1pc3NpbmdfaW50ZXJ2YWxzOiBKb2kubnVtYmVyKCkuZGVmYXVsdCgxMiksXG4gICAgICAgIG1heF9idWNrZXRfc2l6ZTogSm9pLm51bWJlcigpLmRlZmF1bHQoMTAwMDApLFxuICAgICAgICBtaW5faW50ZXJ2YWxfc2Vjb25kczogSm9pLm51bWJlcigpLmRlZmF1bHQoMTApLFxuICAgICAgICByZXBvcnRfc3RhdHM6IEpvaS5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICAgICAgZ29vZ2xlX3RhZ19tYW5hZ2VyX2lkOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnR1RNLVdYTUhHTScpLFxuICAgICAgICBub2RlX3Jlc29sdmVyOiBKb2kuc3RyaW5nKCkucmVnZXgoL14oPzp0cmFuc3BvcnRfYWRkcmVzc3xuYW1lKSQvKS5kZWZhdWx0KCd0cmFuc3BvcnRfYWRkcmVzcycpLFxuICAgICAgICBzdGF0c19yZXBvcnRfdXJsOiBKb2kud2hlbignJGRldicsIHtcbiAgICAgICAgICBpczogdHJ1ZSxcbiAgICAgICAgICB0aGVuOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnLi4vYXBpL21hcnZlbC92MS9waG9uZS1ob21lJyksXG4gICAgICAgICAgb3RoZXJ3aXNlOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnaHR0cHM6Ly9tYXJ2ZWwtc3RhdHMuZWxhc3RpY3NlYXJjaC5jb20vYXBwZGF0YS9tYXJ2ZWxPcHRzJylcbiAgICAgICAgfSksXG4gICAgICAgIGFnZW50OiBKb2kub2JqZWN0KHtcbiAgICAgICAgICBpbnRlcnZhbDogSm9pLnN0cmluZygpLnJlZ2V4KC9bXFxkXFwuXStbeU13ZGhtc10vKS5kZWZhdWx0KCcxMHMnKVxuICAgICAgICB9KS5kZWZhdWx0KClcbiAgICAgIH0pLmRlZmF1bHQoKTtcbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKHNlcnZlciwgb3B0aW9ucykge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBNYXJ2ZWwgaW5kZXggaXMgY3JlYXRlZCBhbmQgdGhlIEtpYmFuYSB2ZXJzaW9uIGlzIHN1cHBvcnRlZFxuICAgICAgcGx1Z2luU2VsZkNoZWNrKHRoaXMsIHNlcnZlcik7XG4gICAgICAvLyBSZXF1aXJlIGFsbCB0aGUgcm91dGVzXG4gICAgICByZXF1aXJlQWxsQW5kQXBwbHkoam9pbihfX2Rpcm5hbWUsICdzZXJ2ZXInLCAncm91dGVzJywgJyoqJywgJyouanMnKSwgc2VydmVyKTtcbiAgICB9XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/index.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAClC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;AAChC,IAAI,kBAAkB,GAAG,OAAO,CAAC,oCAAoC,CAAC,CAAC;AACvE,IAAI,eAAe,GAAG,OAAO,CAAC,gCAAgC,CAAC,CAAC;;AAEhE,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,WAAO,EAAE,CAAC,eAAe,CAAC;AAC1B,QAAI,EAAE,QAAQ;;AAEd,aAAS,EAAE;AACT,SAAG,EAAE;AACH,aAAK,EAAE,QAAQ;AACf,mBAAW,EAAE,8BAA8B;AAC3C,YAAI,EAAE,uBAAuB;AAC7B,kBAAU,EAAE,oBAAU,MAAM,EAAE,OAAO,EAAE;AACrC,cAAI,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC7B,iBAAO;AACL,yBAAa,EAAE,MAAM,CAAC,GAAG,CAAC,wBAAwB,CAAC;AACnD,8BAAkB,EAAE,MAAM,CAAC,GAAG,CAAC,6BAA6B,CAAC;AAC7D,oBAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACpC,wBAAY,EAAE,MAAM,CAAC,GAAG,CAAC,0BAA0B,CAAC;AACpD,0BAAc,EAAE,MAAM,CAAC,GAAG,CAAC,4BAA4B,CAAC;AACxD,0BAAc,EAAE,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC;AACrD,uBAAW,EAAE,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC;AAC9C,6BAAiB,EAAE,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC;AACpD,8BAAkB,EAAE,MAAM,CAAC,GAAG,CAAC,8BAA8B,CAAC;WAC/D,CAAC;SACH;OACF;KACF;;AAED,UAAM,EAAE,gBAAU,GAAG,EAAE;AACrB,aAAO,GAAG,CAAC,MAAM,CAAC;AAChB,eAAO,EAAE,GAAG,CAAC,OAAO,EAAE,WAAQ,CAAC,IAAI,CAAC;AACpC,aAAK,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,mBAAmB,CAAC;AAChD,oBAAY,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,eAAe,CAAC;AACnD,yBAAiB,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,EAAE,CAAC;AAC3C,uBAAe,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,KAAK,CAAC;AAC5C,4BAAoB,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,EAAE,CAAC;AAC9C,oBAAY,EAAE,GAAG,CAAC,OAAO,EAAE,WAAQ,CAAC,IAAI,CAAC;AACzC,6BAAqB,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,YAAY,CAAC;AACzD,qBAAa,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,8BAA8B,CAAC,WAAQ,CAAC,mBAAmB,CAAC;AAC9F,wBAAgB,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;AACjC,YAAE,EAAE,IAAI;AACR,cAAI,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,6BAA6B,CAAC;AACzD,mBAAS,EAAE,GAAG,CAAC,MAAM,EAAE,WAAQ,CAAC,2DAA2D,CAAC;SAC7F,CAAC;AACF,aAAK,EAAE,GAAG,CAAC,MAAM,CAAC;AAChB,kBAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,kBAAkB,CAAC,WAAQ,CAAC,KAAK,CAAC;SAChE,CAAC,WAAQ,EAAE;OACb,CAAC,WAAQ,EAAE,CAAC;KACd;;AAED,QAAI,EAAE,cAAU,MAAM,EAAE,OAAO,EAAE;;AAE/B,qBAAe,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;;AAE9B,wBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC,CAAC;KAC/E;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/index.js",
      "sourcesContent": [
        "var Promise = require('bluebird');\nvar join = require('path').join;\nvar requireAllAndApply = require('./server/lib/require_all_and_apply');\nvar pluginSelfCheck = require('./server/lib/plugin_self_check');\n\nmodule.exports = function (kibana) {\n  return new kibana.Plugin({\n    require: ['elasticsearch'],\n    name: 'marvel',\n\n    uiExports: {\n      app: {\n        title: 'Marvel',\n        description: 'Monitoring for Elasticsearch',\n        main: 'plugins/marvel/marvel',\n        injectVars: function (server, options) {\n          var config = server.config();\n          return {\n            maxBucketSize: config.get('marvel.max_bucket_size'),\n            minIntervalSeconds: config.get('marvel.min_interval_seconds'),\n            kbnIndex: config.get('kibana.index'),\n            esApiVersion: config.get('elasticsearch.apiVersion'),\n            esShardTimeout: config.get('elasticsearch.shardTimeout'),\n            statsReportUrl: config.get('marvel.stats_report_url'),\n            reportStats: config.get('marvel.report_stats'),\n            marvelIndexPrefix: config.get('marvel.index_prefix'),\n            googleTagManagerId: config.get('marvel.google_tag_manager_id')\n          };\n        }\n      }\n    },\n\n    config: function (Joi) {\n      return Joi.object({\n        enabled: Joi.boolean().default(true),\n        index: Joi.string().default('.marvel-es-data-1'),\n        index_prefix: Joi.string().default('.marvel-es-1-'),\n        missing_intervals: Joi.number().default(12),\n        max_bucket_size: Joi.number().default(10000),\n        min_interval_seconds: Joi.number().default(10),\n        report_stats: Joi.boolean().default(true),\n        google_tag_manager_id: Joi.string().default('GTM-WXMHGM'),\n        node_resolver: Joi.string().regex(/^(?:transport_address|name)$/).default('transport_address'),\n        stats_report_url: Joi.when('$dev', {\n          is: true,\n          then: Joi.string().default('../api/marvel/v1/phone-home'),\n          otherwise: Joi.string().default('https://marvel-stats.elasticsearch.com/appdata/marvelOpts')\n        }),\n        agent: Joi.object({\n          interval: Joi.string().regex(/[\\d\\.]+[yMwdhms]/).default('10s')\n        }).default()\n      }).default();\n    },\n\n    init: function (server, options) {\n      // Make sure the Marvel index is created and the Kibana version is supported\n      pluginSelfCheck(this, server);\n      // Require all the routes\n      requireAllAndApply(join(__dirname, 'server', 'routes', '**', '*.js'), server);\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1467741420000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/require_all_and_apply.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar glob = require('glob');\nvar Promise = require('bluebird');\n\nmodule.exports = function (path, server) {\n  return new Promise(function (resolve, reject) {\n    glob(path, { ignore: '**/__test__/**' }, function (err, files) {\n      if (err) return reject(err);\n      var modules = files.map(require);\n      modules.forEach(function (fn) {\n        fn(server);\n      });\n      resolve(modules);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvc2VydmVyL2xpYi9yZXF1aXJlX2FsbF9hbmRfYXBwbHkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDM0IsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVsQyxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsSUFBSSxFQUFFLE1BQU0sRUFBRTtBQUN2QyxTQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUM1QyxRQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFLEVBQUUsVUFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQzdELFVBQUksR0FBRyxFQUFFLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLFVBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDakMsYUFBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRTtBQUM1QixVQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7T0FDWixDQUFDLENBQUM7QUFDSCxhQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDbEIsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvVGhlby9EZXNrdG9wL05lYnVsYS9lbGFzdGljc2VhcmNoL2luc3RhbGxlZFBsdWdpbnMvbWFydmVsL3NlcnZlci9saWIvcmVxdWlyZV9hbGxfYW5kX2FwcGx5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2IgPSByZXF1aXJlKCdnbG9iJyk7XG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHBhdGgsIHNlcnZlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGdsb2IocGF0aCwgeyBpZ25vcmU6ICcqKi9fX3Rlc3RfXy8qKicgfSwgZnVuY3Rpb24gKGVyciwgZmlsZXMpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgIHZhciBtb2R1bGVzID0gZmlsZXMubWFwKHJlcXVpcmUpO1xuICAgICAgbW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICBmbihzZXJ2ZXIpO1xuICAgICAgfSk7XG4gICAgICByZXNvbHZlKG1vZHVsZXMpO1xuICAgIH0pO1xuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/require_all_and_apply.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAElC,MAAM,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,MAAM,EAAE;AACvC,SAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;AAC5C,QAAI,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,gBAAgB,EAAE,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;AAC7D,UAAI,GAAG,EAAE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;AAC5B,UAAI,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACjC,aAAO,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;AAC5B,UAAE,CAAC,MAAM,CAAC,CAAC;OACZ,CAAC,CAAC;AACH,aAAO,CAAC,OAAO,CAAC,CAAC;KAClB,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/require_all_and_apply.js",
      "sourcesContent": [
        "var glob = require('glob');\nvar Promise = require('bluebird');\n\nmodule.exports = function (path, server) {\n  return new Promise(function (resolve, reject) {\n    glob(path, { ignore: '**/__test__/**' }, function (err, files) {\n      if (err) return reject(err);\n      var modules = files.map(require);\n      modules.forEach(function (fn) {\n        fn(server);\n      });\n      resolve(modules);\n    });\n  });\n};\n"
      ]
    },
    "mtime": 1467741420000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/plugin_self_check.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar createMarvelIndexPattern = require('./create_marvel_index_pattern');\nvar ensureVersions = require('./ensure_versions');\n\nmodule.exports = function pluginSelfCheck(plugin, server) {\n  plugin.status.yellow('Waiting for Elasticsearch');\n  var client = server.plugins.elasticsearch.client;\n\n  server.plugins.elasticsearch.status.on('green', function () {\n    // check if kibana is minimum supported version\n\n    var _ensureVersions = ensureVersions(plugin);\n\n    var isKibanaSupported = _ensureVersions.isKibanaSupported;\n    var kibanaVersion = _ensureVersions.kibanaVersion;\n    var marvelVersion = _ensureVersions.marvelVersion;\n\n    if (isKibanaSupported) {\n      // start setting up the Marvel index.\n      return createMarvelIndexPattern(server).then(function () {\n        return plugin.status.green('Marvel index ready');\n      });\n    } else if (!isKibanaSupported) {\n      plugin.status.red('Marvel version ' + marvelVersion + ' is not supported with Kibana ' + kibanaVersion);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvc2VydmVyL2xpYi9wbHVnaW5fc2VsZl9jaGVjay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sd0JBQXdCLEdBQUcsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFDMUUsSUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7O0FBRXBELE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUN4RCxRQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQ2xELE1BQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQzs7QUFFakQsUUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTs7OzBCQU1oRCxjQUFjLENBQUMsTUFBTSxDQUFDOztRQUh4QixpQkFBaUIsbUJBQWpCLGlCQUFpQjtRQUNqQixhQUFhLG1CQUFiLGFBQWE7UUFDYixhQUFhLG1CQUFiLGFBQWE7O0FBR2YsUUFBSSxpQkFBaUIsRUFBRTs7QUFFckIsYUFBTyx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsQ0FDdEMsSUFBSSxDQUFDO2VBQU0sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUM7T0FBQSxDQUFDLENBQUM7S0FDeEQsTUFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7QUFDN0IsWUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLHFCQUFtQixhQUFhLHNDQUFpQyxhQUFhLENBQUcsQ0FBQztLQUNwRztHQUNGLENBQUMsQ0FBQztDQUVKLENBQUMiLCJmaWxlIjoiL1VzZXJzL1RoZW8vRGVza3RvcC9OZWJ1bGEvZWxhc3RpY3NlYXJjaC9pbnN0YWxsZWRQbHVnaW5zL21hcnZlbC9zZXJ2ZXIvbGliL3BsdWdpbl9zZWxmX2NoZWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY3JlYXRlTWFydmVsSW5kZXhQYXR0ZXJuID0gcmVxdWlyZSgnLi9jcmVhdGVfbWFydmVsX2luZGV4X3BhdHRlcm4nKTtcbmNvbnN0IGVuc3VyZVZlcnNpb25zID0gcmVxdWlyZSgnLi9lbnN1cmVfdmVyc2lvbnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwbHVnaW5TZWxmQ2hlY2socGx1Z2luLCBzZXJ2ZXIpIHtcbiAgcGx1Z2luLnN0YXR1cy55ZWxsb3coJ1dhaXRpbmcgZm9yIEVsYXN0aWNzZWFyY2gnKTtcbiAgdmFyIGNsaWVudCA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guY2xpZW50O1xuXG4gIHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guc3RhdHVzLm9uKCdncmVlbicsICgpID0+IHtcbiAgICAvLyBjaGVjayBpZiBraWJhbmEgaXMgbWluaW11bSBzdXBwb3J0ZWQgdmVyc2lvblxuICAgIGNvbnN0IHtcbiAgICAgIGlzS2liYW5hU3VwcG9ydGVkLFxuICAgICAga2liYW5hVmVyc2lvbixcbiAgICAgIG1hcnZlbFZlcnNpb25cbiAgICB9ID0gZW5zdXJlVmVyc2lvbnMocGx1Z2luKTtcblxuICAgIGlmIChpc0tpYmFuYVN1cHBvcnRlZCkge1xuICAgICAgLy8gc3RhcnQgc2V0dGluZyB1cCB0aGUgTWFydmVsIGluZGV4LlxuICAgICAgcmV0dXJuIGNyZWF0ZU1hcnZlbEluZGV4UGF0dGVybihzZXJ2ZXIpXG4gICAgICAudGhlbigoKSA9PiBwbHVnaW4uc3RhdHVzLmdyZWVuKCdNYXJ2ZWwgaW5kZXggcmVhZHknKSk7XG4gICAgfSBlbHNlIGlmICghaXNLaWJhbmFTdXBwb3J0ZWQpIHtcbiAgICAgIHBsdWdpbi5zdGF0dXMucmVkKGBNYXJ2ZWwgdmVyc2lvbiAke21hcnZlbFZlcnNpb259IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBLaWJhbmEgJHtraWJhbmFWZXJzaW9ufWApO1xuICAgIH1cbiAgfSk7XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/plugin_self_check.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,wBAAwB,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAC1E,IAAM,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;;AAEpD,MAAM,CAAC,OAAO,GAAG,SAAS,eAAe,CAAC,MAAM,EAAE,MAAM,EAAE;AACxD,QAAM,CAAC,MAAM,CAAC,MAAM,CAAC,2BAA2B,CAAC,CAAC;AAClD,MAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC;;AAEjD,QAAM,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,YAAM;;;0BAMhD,cAAc,CAAC,MAAM,CAAC;;QAHxB,iBAAiB,mBAAjB,iBAAiB;QACjB,aAAa,mBAAb,aAAa;QACb,aAAa,mBAAb,aAAa;;AAGf,QAAI,iBAAiB,EAAE;;AAErB,aAAO,wBAAwB,CAAC,MAAM,CAAC,CACtC,IAAI,CAAC;eAAM,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,CAAC;OAAA,CAAC,CAAC;KACxD,MAAM,IAAI,CAAC,iBAAiB,EAAE;AAC7B,YAAM,CAAC,MAAM,CAAC,GAAG,qBAAmB,aAAa,sCAAiC,aAAa,CAAG,CAAC;KACpG;GACF,CAAC,CAAC;CAEJ,CAAC",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/plugin_self_check.js",
      "sourcesContent": [
        "const createMarvelIndexPattern = require('./create_marvel_index_pattern');\nconst ensureVersions = require('./ensure_versions');\n\nmodule.exports = function pluginSelfCheck(plugin, server) {\n  plugin.status.yellow('Waiting for Elasticsearch');\n  var client = server.plugins.elasticsearch.client;\n\n  server.plugins.elasticsearch.status.on('green', () => {\n    // check if kibana is minimum supported version\n    const {\n      isKibanaSupported,\n      kibanaVersion,\n      marvelVersion\n    } = ensureVersions(plugin);\n\n    if (isKibanaSupported) {\n      // start setting up the Marvel index.\n      return createMarvelIndexPattern(server)\n      .then(() => plugin.status.green('Marvel index ready'));\n    } else if (!isKibanaSupported) {\n      plugin.status.red(`Marvel version ${marvelVersion} is not supported with Kibana ${kibanaVersion}`);\n    }\n  });\n\n};\n"
      ]
    },
    "mtime": 1467741420000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/create_marvel_index_pattern.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Promise = require('bluebird');\nvar marvelIndexPattern = require('./marvel_index_pattern.json');\nmodule.exports = function (server) {\n  var client = server.plugins.elasticsearch.client;\n  var config = server.config();\n  var index = config.get('kibana.index');\n  var marvelIndexPrefix = config.get('marvel.index_prefix');\n  var id = marvelIndexPrefix + '*';\n  var type = 'index-pattern';\n  return client.get({\n    index: index,\n    type: type,\n    id: id,\n    ignoreUnavailable: true\n  })['catch'](function (resp) {\n    if (resp.status !== 404) return Promise.reject(resp);\n    // Create an index pattern for Marvel indices.\n    return client.index({\n      index: index,\n      type: type,\n      id: id,\n      body: marvelIndexPattern\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvc2VydmVyL2xpYi9jcmVhdGVfbWFydmVsX2luZGV4X3BhdHRlcm4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDbEMsSUFBSSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUNoRSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsTUFBTSxFQUFFO0FBQ2pDLE1BQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQztBQUNqRCxNQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDN0IsTUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN2QyxNQUFJLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUMxRCxNQUFJLEVBQUUsR0FBSSxpQkFBaUIsR0FBRyxHQUFHLENBQUM7QUFDbEMsTUFBSSxJQUFJLEdBQUcsZUFBZSxDQUFDO0FBQzNCLFNBQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNoQixTQUFLLEVBQUUsS0FBSztBQUNaLFFBQUksRUFBRSxJQUFJO0FBQ1YsTUFBRSxFQUFFLEVBQUU7QUFDTixxQkFBaUIsRUFBRSxJQUFJO0dBQ3hCLENBQUMsU0FDSSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ3JCLFFBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxHQUFHLEVBQUUsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVyRCxXQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDbEIsV0FBSyxFQUFFLEtBQUs7QUFDWixVQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUUsRUFBRSxFQUFFO0FBQ04sVUFBSSxFQUFFLGtCQUFrQjtLQUN6QixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvc2VydmVyL2xpYi9jcmVhdGVfbWFydmVsX2luZGV4X3BhdHRlcm4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUHJvbWlzZSA9IHJlcXVpcmUoJ2JsdWViaXJkJyk7XG52YXIgbWFydmVsSW5kZXhQYXR0ZXJuID0gcmVxdWlyZSgnLi9tYXJ2ZWxfaW5kZXhfcGF0dGVybi5qc29uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXJ2ZXIpIHtcbiAgdmFyIGNsaWVudCA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guY2xpZW50O1xuICB2YXIgY29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuICB2YXIgaW5kZXggPSBjb25maWcuZ2V0KCdraWJhbmEuaW5kZXgnKTtcbiAgdmFyIG1hcnZlbEluZGV4UHJlZml4ID0gY29uZmlnLmdldCgnbWFydmVsLmluZGV4X3ByZWZpeCcpO1xuICB2YXIgaWQgPSAgbWFydmVsSW5kZXhQcmVmaXggKyAnKic7XG4gIHZhciB0eXBlID0gJ2luZGV4LXBhdHRlcm4nO1xuICByZXR1cm4gY2xpZW50LmdldCh7XG4gICAgaW5kZXg6IGluZGV4LFxuICAgIHR5cGU6IHR5cGUsXG4gICAgaWQ6IGlkLFxuICAgIGlnbm9yZVVuYXZhaWxhYmxlOiB0cnVlXG4gIH0pXG4gIC5jYXRjaChmdW5jdGlvbiAocmVzcCkge1xuICAgIGlmIChyZXNwLnN0YXR1cyAhPT0gNDA0KSByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcCk7XG4gICAgLy8gQ3JlYXRlIGFuIGluZGV4IHBhdHRlcm4gZm9yIE1hcnZlbCBpbmRpY2VzLlxuICAgIHJldHVybiBjbGllbnQuaW5kZXgoe1xuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIGJvZHk6IG1hcnZlbEluZGV4UGF0dGVyblxuICAgIH0pO1xuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/create_marvel_index_pattern.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAClC,IAAI,kBAAkB,GAAG,OAAO,CAAC,6BAA6B,CAAC,CAAC;AAChE,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,MAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC;AACjD,MAAI,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC7B,MAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;AACvC,MAAI,iBAAiB,GAAG,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;AAC1D,MAAI,EAAE,GAAI,iBAAiB,GAAG,GAAG,CAAC;AAClC,MAAI,IAAI,GAAG,eAAe,CAAC;AAC3B,SAAO,MAAM,CAAC,GAAG,CAAC;AAChB,SAAK,EAAE,KAAK;AACZ,QAAI,EAAE,IAAI;AACV,MAAE,EAAE,EAAE;AACN,qBAAiB,EAAE,IAAI;GACxB,CAAC,SACI,CAAC,UAAU,IAAI,EAAE;AACrB,QAAI,IAAI,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAErD,WAAO,MAAM,CAAC,KAAK,CAAC;AAClB,WAAK,EAAE,KAAK;AACZ,UAAI,EAAE,IAAI;AACV,QAAE,EAAE,EAAE;AACN,UAAI,EAAE,kBAAkB;KACzB,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/create_marvel_index_pattern.js",
      "sourcesContent": [
        "var Promise = require('bluebird');\nvar marvelIndexPattern = require('./marvel_index_pattern.json');\nmodule.exports = function (server) {\n  var client = server.plugins.elasticsearch.client;\n  var config = server.config();\n  var index = config.get('kibana.index');\n  var marvelIndexPrefix = config.get('marvel.index_prefix');\n  var id =  marvelIndexPrefix + '*';\n  var type = 'index-pattern';\n  return client.get({\n    index: index,\n    type: type,\n    id: id,\n    ignoreUnavailable: true\n  })\n  .catch(function (resp) {\n    if (resp.status !== 404) return Promise.reject(resp);\n    // Create an index pattern for Marvel indices.\n    return client.index({\n      index: index,\n      type: type,\n      id: id,\n      body: marvelIndexPattern\n    });\n  });\n};\n"
      ]
    },
    "mtime": 1467741420000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/ensure_versions.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "semver",
            "imported": [
              "satisfies"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "satisfies",
                "local": "satisfies"
              }
            ]
          },
          {
            "source": "../../package.json",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pkg"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "/*\n * Ensure version compatibility with Kibana\n * Marvel 2.2.0 should work with Kibana > v4.4.0\n * https://www.elastic.co/guide/en/marvel/current/installing-marvel.html\n * Semver tester: http://jubianchi.github.io/semver-check/\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _semver = require('semver');\n\nvar _packageJson = require('../../package.json');\n\nvar _packageJson2 = _interopRequireDefault(_packageJson);\n\nvar kbnVersionRanges = {\n  '2.2.0': '~4.4.0',\n  '2.2.1': '~4.4.0',\n  '2.2.2': '~4.4.0',\n  '2.3.0': '~4.5.0',\n  '2.3.1': '~4.5.0',\n  '2.3.2': '~4.5.0',\n  '2.3.3': '~4.5.0',\n  '2.3.4': '~4.5.0'\n};\n\nfunction cleanVersionString(string) {\n  if (string) {\n    // get just the number.number.number portion (filter out '-snapshot')\n    var matches = string.match(/^\\d+\\.\\d+.\\d+/);\n    if (matches) {\n      // escape() because the string could be rendered in UI\n      return _lodash2['default'].escape(matches[0]);\n    }\n  }\n\n  return '';\n}\n\nfunction ensureVersions(plugin) {\n\n  var kibanaVersion = cleanVersionString(_lodash2['default'].get(plugin, 'kbnServer.version'));\n  var marvelVersion = cleanVersionString(_packageJson2['default'].version);\n  var returnData = { kibanaVersion: kibanaVersion, marvelVersion: marvelVersion };\n\n  // version support check can throw a TypeError if kibanaVersion is invalid\n  try {\n    returnData.isKibanaSupported = (0, _semver.satisfies)(kibanaVersion, kbnVersionRanges[marvelVersion]);\n  } catch (e) {\n    returnData.isKibanaSupported = false;\n  }\n\n  return returnData;\n}\n\nexports['default'] = ensureVersions;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvc2VydmVyL2xpYi9lbnN1cmVfdmVyc2lvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7c0JBTWMsUUFBUTs7OztzQkFDSSxRQUFROzsyQkFDbEIsb0JBQW9COzs7O0FBRXBDLElBQU0sZ0JBQWdCLEdBQUc7QUFDdkIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7QUFDakIsU0FBTyxFQUFFLFFBQVE7Q0FDbEIsQ0FBQzs7QUFFRixTQUFTLGtCQUFrQixDQUFDLE1BQU0sRUFBRTtBQUNsQyxNQUFJLE1BQU0sRUFBRTs7QUFFVixRQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQzlDLFFBQUksT0FBTyxFQUFFOztBQUVYLGFBQU8sb0JBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7O0FBRUQsU0FBTyxFQUFFLENBQUM7Q0FDWDs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxNQUFNLEVBQUU7O0FBRTlCLE1BQU0sYUFBYSxHQUFHLGtCQUFrQixDQUFDLG9CQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0FBQzdFLE1BQU0sYUFBYSxHQUFHLGtCQUFrQixDQUFDLHlCQUFJLE9BQU8sQ0FBQyxDQUFDO0FBQ3RELE1BQU0sVUFBVSxHQUFHLEVBQUUsYUFBYSxFQUFiLGFBQWEsRUFBRSxhQUFhLEVBQWIsYUFBYSxFQUFFLENBQUM7OztBQUdwRCxNQUFJO0FBQ0YsY0FBVSxDQUFDLGlCQUFpQixHQUFHLHVCQUFVLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0dBQzFGLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDVixjQUFVLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO0dBQ3RDOztBQUVELFNBQU8sVUFBVSxDQUFDO0NBRW5COztxQkFFYyxjQUFjIiwiZmlsZSI6Ii9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9tYXJ2ZWwvc2VydmVyL2xpYi9lbnN1cmVfdmVyc2lvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogRW5zdXJlIHZlcnNpb24gY29tcGF0aWJpbGl0eSB3aXRoIEtpYmFuYVxuICogTWFydmVsIDIuMi4wIHNob3VsZCB3b3JrIHdpdGggS2liYW5hID4gdjQuNC4wXG4gKiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL21hcnZlbC9jdXJyZW50L2luc3RhbGxpbmctbWFydmVsLmh0bWxcbiAqIFNlbXZlciB0ZXN0ZXI6IGh0dHA6Ly9qdWJpYW5jaGkuZ2l0aHViLmlvL3NlbXZlci1jaGVjay9cbiAqL1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHNhdGlzZmllcyB9IGZyb20gJ3NlbXZlcic7XG5pbXBvcnQgcGtnIGZyb20gJy4uLy4uL3BhY2thZ2UuanNvbic7XG5cbmNvbnN0IGtiblZlcnNpb25SYW5nZXMgPSB7XG4gICcyLjIuMCc6ICd+NC40LjAnLFxuICAnMi4yLjEnOiAnfjQuNC4wJyxcbiAgJzIuMi4yJzogJ340LjQuMCcsXG4gICcyLjMuMCc6ICd+NC41LjAnLFxuICAnMi4zLjEnOiAnfjQuNS4wJyxcbiAgJzIuMy4yJzogJ340LjUuMCcsXG4gICcyLjMuMyc6ICd+NC41LjAnLFxuICAnMi4zLjQnOiAnfjQuNS4wJ1xufTtcblxuZnVuY3Rpb24gY2xlYW5WZXJzaW9uU3RyaW5nKHN0cmluZykge1xuICBpZiAoc3RyaW5nKSB7XG4gICAgLy8gZ2V0IGp1c3QgdGhlIG51bWJlci5udW1iZXIubnVtYmVyIHBvcnRpb24gKGZpbHRlciBvdXQgJy1zbmFwc2hvdCcpXG4gICAgY29uc3QgbWF0Y2hlcyA9IHN0cmluZy5tYXRjaCgvXlxcZCtcXC5cXGQrLlxcZCsvKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgLy8gZXNjYXBlKCkgYmVjYXVzZSB0aGUgc3RyaW5nIGNvdWxkIGJlIHJlbmRlcmVkIGluIFVJXG4gICAgICByZXR1cm4gXy5lc2NhcGUobWF0Y2hlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVWZXJzaW9ucyhwbHVnaW4pIHtcblxuICBjb25zdCBraWJhbmFWZXJzaW9uID0gY2xlYW5WZXJzaW9uU3RyaW5nKF8uZ2V0KHBsdWdpbiwgJ2tiblNlcnZlci52ZXJzaW9uJykpO1xuICBjb25zdCBtYXJ2ZWxWZXJzaW9uID0gY2xlYW5WZXJzaW9uU3RyaW5nKHBrZy52ZXJzaW9uKTtcbiAgY29uc3QgcmV0dXJuRGF0YSA9IHsga2liYW5hVmVyc2lvbiwgbWFydmVsVmVyc2lvbiB9O1xuXG4gIC8vIHZlcnNpb24gc3VwcG9ydCBjaGVjayBjYW4gdGhyb3cgYSBUeXBlRXJyb3IgaWYga2liYW5hVmVyc2lvbiBpcyBpbnZhbGlkXG4gIHRyeSB7XG4gICAgcmV0dXJuRGF0YS5pc0tpYmFuYVN1cHBvcnRlZCA9IHNhdGlzZmllcyhraWJhbmFWZXJzaW9uLCBrYm5WZXJzaW9uUmFuZ2VzW21hcnZlbFZlcnNpb25dKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybkRhdGEuaXNLaWJhbmFTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiByZXR1cm5EYXRhO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGVuc3VyZVZlcnNpb25zO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/ensure_versions.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;sBAMc,QAAQ;;;;sBACI,QAAQ;;2BAClB,oBAAoB;;;;AAEpC,IAAM,gBAAgB,GAAG;AACvB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;AACjB,SAAO,EAAE,QAAQ;CAClB,CAAC;;AAEF,SAAS,kBAAkB,CAAC,MAAM,EAAE;AAClC,MAAI,MAAM,EAAE;;AAEV,QAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AAC9C,QAAI,OAAO,EAAE;;AAEX,aAAO,oBAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7B;GACF;;AAED,SAAO,EAAE,CAAC;CACX;;AAED,SAAS,cAAc,CAAC,MAAM,EAAE;;AAE9B,MAAM,aAAa,GAAG,kBAAkB,CAAC,oBAAE,GAAG,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAC,CAAC;AAC7E,MAAM,aAAa,GAAG,kBAAkB,CAAC,yBAAI,OAAO,CAAC,CAAC;AACtD,MAAM,UAAU,GAAG,EAAE,aAAa,EAAb,aAAa,EAAE,aAAa,EAAb,aAAa,EAAE,CAAC;;;AAGpD,MAAI;AACF,cAAU,CAAC,iBAAiB,GAAG,uBAAU,aAAa,EAAE,gBAAgB,CAAC,aAAa,CAAC,CAAC,CAAC;GAC1F,CAAC,OAAO,CAAC,EAAE;AACV,cAAU,CAAC,iBAAiB,GAAG,KAAK,CAAC;GACtC;;AAED,SAAO,UAAU,CAAC;CAEnB;;qBAEc,cAAc",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/marvel/server/lib/ensure_versions.js",
      "sourcesContent": [
        "/*\n * Ensure version compatibility with Kibana\n * Marvel 2.2.0 should work with Kibana > v4.4.0\n * https://www.elastic.co/guide/en/marvel/current/installing-marvel.html\n * Semver tester: http://jubianchi.github.io/semver-check/\n */\nimport _ from 'lodash';\nimport { satisfies } from 'semver';\nimport pkg from '../../package.json';\n\nconst kbnVersionRanges = {\n  '2.2.0': '~4.4.0',\n  '2.2.1': '~4.4.0',\n  '2.2.2': '~4.4.0',\n  '2.3.0': '~4.5.0',\n  '2.3.1': '~4.5.0',\n  '2.3.2': '~4.5.0',\n  '2.3.3': '~4.5.0',\n  '2.3.4': '~4.5.0'\n};\n\nfunction cleanVersionString(string) {\n  if (string) {\n    // get just the number.number.number portion (filter out '-snapshot')\n    const matches = string.match(/^\\d+\\.\\d+.\\d+/);\n    if (matches) {\n      // escape() because the string could be rendered in UI\n      return _.escape(matches[0]);\n    }\n  }\n\n  return '';\n}\n\nfunction ensureVersions(plugin) {\n\n  const kibanaVersion = cleanVersionString(_.get(plugin, 'kbnServer.version'));\n  const marvelVersion = cleanVersionString(pkg.version);\n  const returnData = { kibanaVersion, marvelVersion };\n\n  // version support check can throw a TypeError if kibanaVersion is invalid\n  try {\n    returnData.isKibanaSupported = satisfies(kibanaVersion, kbnVersionRanges[marvelVersion]);\n  } catch (e) {\n    returnData.isKibanaSupported = false;\n  }\n\n  return returnData;\n\n}\n\nexport default ensureVersions;\n"
      ]
    },
    "mtime": 1467743278000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./server/proxy_config_collection",
            "imported": [
              "ProxyConfigCollection"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ProxyConfigCollection",
                "local": "ProxyConfigCollection"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _serverProxy_config_collection = require('./server/proxy_config_collection');\n\nmodule.exports = function (kibana) {\n  var _require = require('path');\n\n  var resolve = _require.resolve;\n  var join = _require.join;\n  var sep = _require.sep;\n\n  var Joi = require('joi');\n  var Boom = require('boom');\n  var modules = resolve(__dirname, 'public/webpackShims/');\n  var src = resolve(__dirname, 'public/src/');\n\n  var _require2 = require('fs');\n\n  var existsSync = _require2.existsSync;\n\n  var _require3 = require('lodash');\n\n  var startsWith = _require3.startsWith;\n  var endsWith = _require3.endsWith;\n\n  var apps = [{\n    title: 'Sense',\n    description: 'JSON aware developer\\'s interface to ElasticSearch',\n    icon: 'plugins/sense/bonsai.png',\n    main: 'plugins/sense/sense',\n    autoload: kibana.autoload.styles,\n    injectVars: function injectVars(server, options) {\n      return options;\n    }\n  }];\n\n  if (existsSync(resolve(__dirname, 'public/tests'))) {\n    apps.push({\n      title: 'Sense Tests',\n      id: 'sense-tests',\n      main: 'plugins/sense/tests',\n      hidden: true\n      //listed: false // uncomment after https://github.com/elastic/kibana/pull/4755\n    });\n  }\n\n  return new kibana.Plugin({\n    id: 'sense',\n\n    config: function config(Joi) {\n      return Joi.object({\n        enabled: Joi.boolean()['default'](true),\n        defaultServerUrl: Joi.string()['default']('http://localhost:9200'),\n        proxyFilter: Joi.array().items(Joi.string()).single()['default'](['.*']),\n        ssl: Joi.object({\n          verify: Joi.boolean()\n        })['default'](),\n        proxyConfig: Joi.array().items(Joi.object().keys({\n          match: Joi.object().keys({\n            protocol: Joi.string()['default']('*'),\n            host: Joi.string()['default']('*'),\n            port: Joi.string()['default']('*'),\n            path: Joi.string()['default']('*')\n          }),\n\n          timeout: Joi.number(),\n          ssl: Joi.object().keys({\n            verify: Joi.boolean(),\n            ca: Joi.array().single().items(Joi.string()),\n            cert: Joi.string(),\n            key: Joi.string()\n          })['default']()\n        }))['default']([{\n          match: {\n            protocol: '*',\n            host: '*',\n            port: '*',\n            path: '*'\n          },\n\n          timeout: 180000,\n          ssl: {\n            verify: true\n          }\n        }])\n      })['default']();\n    },\n\n    init: function init(server, options) {\n      var filters = options.proxyFilter.map(function (str) {\n        return new RegExp(str);\n      });\n\n      if (options.ssl && options.ssl.verify) {\n        throw new Error('sense.ssl.version is no longer supported.');\n      }\n\n      var proxyConfigCollection = new _serverProxy_config_collection.ProxyConfigCollection(options.proxyConfig);\n      var proxyRouteConfig = {\n        validate: {\n          query: Joi.object().keys({\n            uri: Joi.string().uri({\n              allowRelative: false,\n              shema: ['http:', 'https:']\n            })\n          }).unknown(true)\n        },\n\n        pre: [function filterUri(req, reply) {\n          var uri = req.query.uri;\n\n          if (!filters.some(function (re) {\n            return re.test(uri);\n          })) {\n            var err = Boom.forbidden();\n            err.output.payload = \"Error connecting to '\" + uri + \"':\\n\\nUnable to send requests to that url.\";\n            err.output.headers['content-type'] = 'text/plain';\n            reply(err);\n          } else {\n            reply();\n          }\n        }],\n\n        handler: function handler(req, reply) {\n          var uri = req.query.uri;\n\n          reply.proxy(_extends({\n            uri: uri,\n            xforward: true,\n            passThrough: true,\n            onResponse: function onResponse(err, res, request, reply, settings, ttl) {\n              if (err != null) {\n                reply(\"Error connecting to '\" + request.query.uri + \"':\\n\\n\" + err.message).type(\"text/plain\").statusCode = 502;\n              } else {\n                reply(null, res);\n              }\n            }\n\n          }, proxyConfigCollection.configForUri(uri)));\n        }\n      };\n\n      server.route({\n        path: '/api/sense/proxy',\n        method: '*',\n        config: _extends({}, proxyRouteConfig, {\n\n          payload: {\n            output: 'stream',\n            parse: false\n          }\n        })\n      });\n\n      server.route({\n        path: '/api/sense/proxy',\n        method: 'GET',\n        config: _extends({}, proxyRouteConfig)\n      });\n\n      server.route({\n        path: '/api/sense/api_server',\n        method: ['GET', 'POST'],\n        handler: function handler(req, reply) {\n          var server = require('./api_server/server');\n          var _req$query = req.query;\n          var sense_version = _req$query.sense_version;\n          var apis = _req$query.apis;\n\n          if (!apis) {\n            reply(Boom.badRequest('\"apis\" is a required param.'));\n            return;\n          }\n\n          return server.resolveApi(sense_version, apis.split(\",\"), reply);\n        }\n      });\n\n      var testApp = kibana.uiExports.apps.hidden.byId['sense-tests'];\n      if (testApp) {\n        server.route({\n          path: '/app/sense-tests',\n          method: 'GET',\n          handler: function handler(req, reply) {\n            return reply.renderApp(testApp);\n          }\n        });\n      }\n    },\n\n    uiExports: {\n      apps: apps,\n\n      noParse: [join(modules, 'ace' + sep), join(modules, 'moment_src/moment' + sep), join(src, 'sense_editor/mode/worker.js')]\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9zZW5zZS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OzZDQUFzQyxrQ0FBa0M7O0FBRXhFLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxNQUFNLEVBQUU7aUJBQ0osT0FBTyxDQUFDLE1BQU0sQ0FBQzs7TUFBdEMsT0FBTyxZQUFQLE9BQU87TUFBRSxJQUFJLFlBQUosSUFBSTtNQUFFLEdBQUcsWUFBSCxHQUFHOztBQUN4QixNQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekIsTUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzNCLE1BQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztBQUN6RCxNQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDOztrQkFDdkIsT0FBTyxDQUFDLElBQUksQ0FBQzs7TUFBNUIsVUFBVSxhQUFWLFVBQVU7O2tCQUNpQixPQUFPLENBQUMsUUFBUSxDQUFDOztNQUExQyxVQUFVLGFBQVYsVUFBVTtNQUFFLFFBQVEsYUFBUixRQUFROztBQUU1QixNQUFNLElBQUksR0FBRyxDQUNYO0FBQ0UsU0FBSyxFQUFFLE9BQU87QUFDZCxlQUFXLEVBQUUsb0RBQW9EO0FBQ2pFLFFBQUksRUFBRSwwQkFBMEI7QUFDaEMsUUFBSSxFQUFFLHFCQUFxQjtBQUMzQixZQUFRLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNO0FBQ2hDLGNBQVUsRUFBRSxvQkFBVSxNQUFNLEVBQUUsT0FBTyxFQUFFO0FBQ3JDLGFBQU8sT0FBTyxDQUFDO0tBQ2hCO0dBQ0YsQ0FDRixDQUFDOztBQUVGLE1BQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUMsRUFBRTtB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QUFKLElBQUk7O0FBQ3hCLGNBQUksQ0FBQyxJQUFJLEVBQUU7QUFDVCxpQkFBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDO0FBQ3RELG1CQUFPO1dBQ1I7O0FBRUQsaUJBQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUNqRTtPQUNGLENBQUMsQ0FBQzs7QUFFSCxVQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ2pFLFVBQUksT0FBTyxFQUFFO0FBQ1gsY0FBTSxDQUFDLEtBQUssQ0FBQztBQUNYLGNBQUksRUFBRSxrQkFBa0I7QUFDeEIsZ0JBQU0sRUFBRSxLQUFLO0FBQ2IsaUJBQU8sRUFBRSxpQkFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQzdCLG1CQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7V0FDakM7U0FDRixDQUFDLENBQUM7T0FDSjtLQUNGOztBQUVELGFBQVMsRUFBRTtBQUNULFVBQUksRUFBRSxJQUFJOztBQUVWLGFBQU8sRUFBRSxDQUNQLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxHQUFHLEdBQUcsQ0FBQyxFQUMxQixJQUFJLENBQUMsT0FBTyxFQUFFLG1CQUFtQixHQUFHLEdBQUcsQ0FBQyxFQUN4QyxJQUFJLENBQUMsR0FBRyxFQUFFLDZCQUE2QixDQUFDLENBQ3pDO0tBQ0Y7R0FDRixDQUFDLENBQUE7Q0FDSCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9zZW5zZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3h5Q29uZmlnQ29sbGVjdGlvbiB9IGZyb20gJy4vc2VydmVyL3Byb3h5X2NvbmZpZ19jb2xsZWN0aW9uJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2liYW5hKSB7XG4gIGxldCB7IHJlc29sdmUsIGpvaW4sIHNlcCB9ID0gcmVxdWlyZSgncGF0aCcpO1xuICBsZXQgSm9pID0gcmVxdWlyZSgnam9pJyk7XG4gIGxldCBCb29tID0gcmVxdWlyZSgnYm9vbScpO1xuICBsZXQgbW9kdWxlcyA9IHJlc29sdmUoX19kaXJuYW1lLCAncHVibGljL3dlYnBhY2tTaGltcy8nKTtcbiAgbGV0IHNyYyA9IHJlc29sdmUoX19kaXJuYW1lLCAncHVibGljL3NyYy8nKTtcbiAgbGV0IHsgZXhpc3RzU3luYyB9ID0gcmVxdWlyZSgnZnMnKTtcbiAgY29uc3QgeyBzdGFydHNXaXRoLCBlbmRzV2l0aCB9ID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbiAgY29uc3QgYXBwcyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ1NlbnNlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSlNPTiBhd2FyZSBkZXZlbG9wZXJcXCdzIGludGVyZmFjZSB0byBFbGFzdGljU2VhcmNoJyxcbiAgICAgIGljb246ICdwbHVnaW5zL3NlbnNlL2JvbnNhaS5wbmcnLFxuICAgICAgbWFpbjogJ3BsdWdpbnMvc2Vuc2Uvc2Vuc2UnLFxuICAgICAgYXV0b2xvYWQ6IGtpYmFuYS5hdXRvbG9hZC5zdHlsZXMsXG4gICAgICBpbmplY3RWYXJzOiBmdW5jdGlvbiAoc2VydmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgfVxuICAgIH1cbiAgXTtcblxuICBpZiAoZXhpc3RzU3luYyhyZXNvbHZlKF9fZGlybmFtZSwgJ3B1YmxpYy90ZXN0cycpKSkge1xuICAgIGFwcHMucHVzaCh7XG4gICAgICB0aXRsZTogJ1NlbnNlIFRlc3RzJyxcbiAgICAgIGlkOiAnc2Vuc2UtdGVzdHMnLFxuICAgICAgbWFpbjogJ3BsdWdpbnMvc2Vuc2UvdGVzdHMnLFxuICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAvL2xpc3RlZDogZmFsc2UgLy8gdW5jb21tZW50IGFmdGVyIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGFzdGljL2tpYmFuYS9wdWxsLzQ3NTVcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcga2liYW5hLlBsdWdpbih7XG4gICAgaWQ6ICdzZW5zZScsXG5cbiAgICBjb25maWc6IGZ1bmN0aW9uIChKb2kpIHtcbiAgICAgIHJldHVybiBKb2kub2JqZWN0KHtcbiAgICAgICAgZW5hYmxlZDogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgICAgICBkZWZhdWx0U2VydmVyVXJsOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnaHR0cDovL2xvY2FsaG9zdDo5MjAwJyksXG4gICAgICAgIHByb3h5RmlsdGVyOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLnNpbmdsZSgpLmRlZmF1bHQoWycuKiddKSxcbiAgICAgICAgc3NsOiBKb2kub2JqZWN0KHtcbiAgICAgICAgICB2ZXJpZnk6IEpvaS5ib29sZWFuKCksXG4gICAgICAgIH0pLmRlZmF1bHQoKSxcbiAgICAgICAgcHJveHlDb25maWc6IEpvaS5hcnJheSgpLml0ZW1zKFxuICAgICAgICAgIEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgICAgIG1hdGNoOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICAgICAgICAgIHByb3RvY29sOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnKicpLFxuICAgICAgICAgICAgICBob3N0OiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnKicpLFxuICAgICAgICAgICAgICBwb3J0OiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnKicpLFxuICAgICAgICAgICAgICBwYXRoOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnKicpXG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgdGltZW91dDogSm9pLm51bWJlcigpLFxuICAgICAgICAgICAgc3NsOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICAgICAgICAgIHZlcmlmeTogSm9pLmJvb2xlYW4oKSxcbiAgICAgICAgICAgICAgY2E6IEpvaS5hcnJheSgpLnNpbmdsZSgpLml0ZW1zKEpvaS5zdHJpbmcoKSksXG4gICAgICAgICAgICAgIGNlcnQ6IEpvaS5zdHJpbmcoKSxcbiAgICAgICAgICAgICAga2V5OiBKb2kuc3RyaW5nKClcbiAgICAgICAgICAgIH0pLmRlZmF1bHQoKVxuICAgICAgICAgIH0pXG4gICAgICAgICkuZGVmYXVsdChbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgICAgcHJvdG9jb2w6ICcqJyxcbiAgICAgICAgICAgICAgaG9zdDogJyonLFxuICAgICAgICAgICAgICBwb3J0OiAnKicsXG4gICAgICAgICAgICAgIHBhdGg6ICcqJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdGltZW91dDogMTgwMDAwLFxuICAgICAgICAgICAgc3NsOiB7XG4gICAgICAgICAgICAgIHZlcmlmeTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXSlcbiAgICAgIH0pLmRlZmF1bHQoKTtcbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKHNlcnZlciwgb3B0aW9ucykge1xuICAgICAgY29uc3QgZmlsdGVycyA9IG9wdGlvbnMucHJveHlGaWx0ZXIubWFwKHN0ciA9PiBuZXcgUmVnRXhwKHN0cikpO1xuXG4gICAgICBpZiAob3B0aW9ucy5zc2wgJiYgb3B0aW9ucy5zc2wudmVyaWZ5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2Vuc2Uuc3NsLnZlcnNpb24gaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJveHlDb25maWdDb2xsZWN0aW9uID0gbmV3IFByb3h5Q29uZmlnQ29sbGVjdGlvbihvcHRpb25zLnByb3h5Q29uZmlnKTtcbiAgICAgIGNvbnN0IHByb3h5Um91dGVDb25maWcgPSB7XG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgcXVlcnk6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgICAgIHVyaTogSm9pLnN0cmluZygpLnVyaSh7XG4gICAgICAgICAgICAgIGFsbG93UmVsYXRpdmU6IGZhbHNlLFxuICAgICAgICAgICAgICBzaGVtYTogWydodHRwOicsICdodHRwczonXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLnVua25vd24odHJ1ZSksXG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJlOiBbXG4gICAgICAgICAgZnVuY3Rpb24gZmlsdGVyVXJpKHJlcSwgcmVwbHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXJpIH0gPSByZXEucXVlcnk7XG5cbiAgICAgICAgICAgIGlmICghZmlsdGVycy5zb21lKHJlID0+IHJlLnRlc3QodXJpKSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyID0gQm9vbS5mb3JiaWRkZW4oKTtcbiAgICAgICAgICAgICAgZXJyLm91dHB1dC5wYXlsb2FkID0gXCJFcnJvciBjb25uZWN0aW5nIHRvICdcIiArIHVyaSArIFwiJzpcXG5cXG5VbmFibGUgdG8gc2VuZCByZXF1ZXN0cyB0byB0aGF0IHVybC5cIjtcbiAgICAgICAgICAgICAgZXJyLm91dHB1dC5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9ICd0ZXh0L3BsYWluJztcbiAgICAgICAgICAgICAgcmVwbHkoZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlcGx5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuXG4gICAgICAgIGhhbmRsZXIocmVxLCByZXBseSkge1xuICAgICAgICAgIGNvbnN0IHsgdXJpIH0gPSByZXEucXVlcnk7XG5cbiAgICAgICAgICByZXBseS5wcm94eSh7XG4gICAgICAgICAgICB1cmksXG4gICAgICAgICAgICB4Zm9yd2FyZDogdHJ1ZSxcbiAgICAgICAgICAgIHBhc3NUaHJvdWdoOiB0cnVlLFxuICAgICAgICAgICAgb25SZXNwb25zZShlcnIsIHJlcywgcmVxdWVzdCwgcmVwbHksIHNldHRpbmdzLCB0dGwpIHtcbiAgICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVwbHkoXCJFcnJvciBjb25uZWN0aW5nIHRvICdcIiArIHJlcXVlc3QucXVlcnkudXJpICsgXCInOlxcblxcblwiICsgZXJyLm1lc3NhZ2UpLnR5cGUoXCJ0ZXh0L3BsYWluXCIpLnN0YXR1c0NvZGUgPSA1MDI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVwbHkobnVsbCwgcmVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLi4ucHJveHlDb25maWdDb2xsZWN0aW9uLmNvbmZpZ0ZvclVyaSh1cmkpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VydmVyLnJvdXRlKHtcbiAgICAgICAgcGF0aDogJy9hcGkvc2Vuc2UvcHJveHknLFxuICAgICAgICBtZXRob2Q6ICcqJyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgLi4ucHJveHlSb3V0ZUNvbmZpZyxcblxuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIG91dHB1dDogJ3N0cmVhbScsXG4gICAgICAgICAgICBwYXJzZTogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VydmVyLnJvdXRlKHtcbiAgICAgICAgcGF0aDogJy9hcGkvc2Vuc2UvcHJveHknLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAuLi5wcm94eVJvdXRlQ29uZmlnXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHNlcnZlci5yb3V0ZSh7XG4gICAgICAgIHBhdGg6ICcvYXBpL3NlbnNlL2FwaV9zZXJ2ZXInLFxuICAgICAgICBtZXRob2Q6IFsnR0VUJywgJ1BPU1QnXSxcbiAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgICAgICBsZXQgc2VydmVyID0gcmVxdWlyZSgnLi9hcGlfc2VydmVyL3NlcnZlcicpO1xuICAgICAgICAgIGxldCB7c2Vuc2VfdmVyc2lvbiwgYXBpc30gPSByZXEucXVlcnk7XG4gICAgICAgICAgaWYgKCFhcGlzKSB7XG4gICAgICAgICAgICByZXBseShCb29tLmJhZFJlcXVlc3QoJ1wiYXBpc1wiIGlzIGEgcmVxdWlyZWQgcGFyYW0uJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzZXJ2ZXIucmVzb2x2ZUFwaShzZW5zZV92ZXJzaW9uLCBhcGlzLnNwbGl0KFwiLFwiKSwgcmVwbHkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGVzdEFwcCA9IGtpYmFuYS51aUV4cG9ydHMuYXBwcy5oaWRkZW4uYnlJZFsnc2Vuc2UtdGVzdHMnXTtcbiAgICAgIGlmICh0ZXN0QXBwKSB7XG4gICAgICAgIHNlcnZlci5yb3V0ZSh7XG4gICAgICAgICAgcGF0aDogJy9hcHAvc2Vuc2UtdGVzdHMnLFxuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBseS5yZW5kZXJBcHAodGVzdEFwcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdWlFeHBvcnRzOiB7XG4gICAgICBhcHBzOiBhcHBzLFxuXG4gICAgICBub1BhcnNlOiBbXG4gICAgICAgIGpvaW4obW9kdWxlcywgJ2FjZScgKyBzZXApLFxuICAgICAgICBqb2luKG1vZHVsZXMsICdtb21lbnRfc3JjL21vbWVudCcgKyBzZXApLFxuICAgICAgICBqb2luKHNyYywgJ3NlbnNlX2VkaXRvci9tb2RlL3dvcmtlci5qcycpXG4gICAgICBdXG4gICAgfVxuICB9KVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/index.js",
      "sourcesContent": [
        "import { ProxyConfigCollection } from './server/proxy_config_collection';\n\nmodule.exports = function (kibana) {\n  let { resolve, join, sep } = require('path');\n  let Joi = require('joi');\n  let Boom = require('boom');\n  let modules = resolve(__dirname, 'public/webpackShims/');\n  let src = resolve(__dirname, 'public/src/');\n  let { existsSync } = require('fs');\n  const { startsWith, endsWith } = require('lodash');\n\n  const apps = [\n    {\n      title: 'Sense',\n      description: 'JSON aware developer\\'s interface to ElasticSearch',\n      icon: 'plugins/sense/bonsai.png',\n      main: 'plugins/sense/sense',\n      autoload: kibana.autoload.styles,\n      injectVars: function (server, options) {\n        return options;\n      }\n    }\n  ];\n\n  if (existsSync(resolve(__dirname, 'public/tests'))) {\n    apps.push({\n      title: 'Sense Tests',\n      id: 'sense-tests',\n      main: 'plugins/sense/tests',\n      hidden: true\n      //listed: false // uncomment after https://github.com/elastic/kibana/pull/4755\n    });\n  }\n\n  return new kibana.Plugin({\n    id: 'sense',\n\n    config: function (Joi) {\n      return Joi.object({\n        enabled: Joi.boolean().default(true),\n        defaultServerUrl: Joi.string().default('http://localhost:9200'),\n        proxyFilter: Joi.array().items(Joi.string()).single().default(['.*']),\n        ssl: Joi.object({\n          verify: Joi.boolean(),\n        }).default(),\n        proxyConfig: Joi.array().items(\n          Joi.object().keys({\n            match: Joi.object().keys({\n              protocol: Joi.string().default('*'),\n              host: Joi.string().default('*'),\n              port: Joi.string().default('*'),\n              path: Joi.string().default('*')\n            }),\n\n            timeout: Joi.number(),\n            ssl: Joi.object().keys({\n              verify: Joi.boolean(),\n              ca: Joi.array().single().items(Joi.string()),\n              cert: Joi.string(),\n              key: Joi.string()\n            }).default()\n          })\n        ).default([\n          {\n            match: {\n              protocol: '*',\n              host: '*',\n              port: '*',\n              path: '*'\n            },\n\n            timeout: 180000,\n            ssl: {\n              verify: true\n            }\n          }\n        ])\n      }).default();\n    },\n\n    init: function (server, options) {\n      const filters = options.proxyFilter.map(str => new RegExp(str));\n\n      if (options.ssl && options.ssl.verify) {\n        throw new Error('sense.ssl.version is no longer supported.');\n      }\n\n      const proxyConfigCollection = new ProxyConfigCollection(options.proxyConfig);\n      const proxyRouteConfig = {\n        validate: {\n          query: Joi.object().keys({\n            uri: Joi.string().uri({\n              allowRelative: false,\n              shema: ['http:', 'https:'],\n            }),\n          }).unknown(true),\n        },\n\n        pre: [\n          function filterUri(req, reply) {\n            const { uri } = req.query;\n\n            if (!filters.some(re => re.test(uri))) {\n              const err = Boom.forbidden();\n              err.output.payload = \"Error connecting to '\" + uri + \"':\\n\\nUnable to send requests to that url.\";\n              err.output.headers['content-type'] = 'text/plain';\n              reply(err);\n            } else {\n              reply();\n            }\n          }\n        ],\n\n        handler(req, reply) {\n          const { uri } = req.query;\n\n          reply.proxy({\n            uri,\n            xforward: true,\n            passThrough: true,\n            onResponse(err, res, request, reply, settings, ttl) {\n              if (err != null) {\n                reply(\"Error connecting to '\" + request.query.uri + \"':\\n\\n\" + err.message).type(\"text/plain\").statusCode = 502;\n              } else {\n                reply(null, res);\n              }\n            },\n\n            ...proxyConfigCollection.configForUri(uri)\n          })\n        }\n      };\n\n      server.route({\n        path: '/api/sense/proxy',\n        method: '*',\n        config: {\n          ...proxyRouteConfig,\n\n          payload: {\n            output: 'stream',\n            parse: false\n          },\n        }\n      });\n\n      server.route({\n        path: '/api/sense/proxy',\n        method: 'GET',\n        config: {\n          ...proxyRouteConfig\n        }\n      })\n\n      server.route({\n        path: '/api/sense/api_server',\n        method: ['GET', 'POST'],\n        handler: function (req, reply) {\n          let server = require('./api_server/server');\n          let {sense_version, apis} = req.query;\n          if (!apis) {\n            reply(Boom.badRequest('\"apis\" is a required param.'));\n            return;\n          }\n\n          return server.resolveApi(sense_version, apis.split(\",\"), reply);\n        }\n      });\n\n      const testApp = kibana.uiExports.apps.hidden.byId['sense-tests'];\n      if (testApp) {\n        server.route({\n          path: '/app/sense-tests',\n          method: 'GET',\n          handler: function (req, reply) {\n            return reply.renderApp(testApp);\n          }\n        });\n      }\n    },\n\n    uiExports: {\n      apps: apps,\n\n      noParse: [\n        join(modules, 'ace' + sep),\n        join(modules, 'moment_src/moment' + sep),\n        join(src, 'sense_editor/mode/worker.js')\n      ]\n    }\n  })\n};\n"
      ]
    },
    "mtime": 1457723837000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/proxy_config_collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "defaultsDeep"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "defaultsDeep",
                "local": "defaultsDeep"
              }
            ]
          },
          {
            "source": "./proxy_config",
            "imported": [
              "ProxyConfig"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ProxyConfig",
                "local": "ProxyConfig"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "parse"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parse",
                "local": "parseUrl"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ProxyConfigCollection"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ProxyConfigCollection",
              "exported": "ProxyConfigCollection"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "to-consumable-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _proxy_config = require('./proxy_config');\n\nvar _url = require('url');\n\nvar ProxyConfigCollection = (function () {\n  function ProxyConfigCollection() {\n    var configs = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n    _classCallCheck(this, ProxyConfigCollection);\n\n    this.configs = configs.map(function (settings) {\n      return new _proxy_config.ProxyConfig(settings);\n    });\n  }\n\n  _createClass(ProxyConfigCollection, [{\n    key: 'configForUri',\n    value: function configForUri(uri) {\n      var parsedUri = (0, _url.parse)(uri);\n      var settings = this.configs.map(function (config) {\n        return config.getForParsedUri(parsedUri);\n      });\n      return _lodash.defaultsDeep.apply(undefined, [{}].concat(_toConsumableArray(settings)));\n    }\n  }]);\n\n  return ProxyConfigCollection;\n})();\n\nexports.ProxyConfigCollection = ProxyConfigCollection;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9zZW5zZS9zZXJ2ZXIvcHJveHlfY29uZmlnX2NvbGxlY3Rpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O3NCQUE2QixRQUFROzs0QkFFVCxnQkFBZ0I7O21CQUNWLEtBQUs7O0lBRzFCLHFCQUFxQjtBQUNyQixXQURBLHFCQUFxQixHQUNOO1FBQWQsT0FBTyx5REFBRyxFQUFFOzswQkFEYixxQkFBcUI7O0FBRTlCLFFBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFBLFFBQVE7YUFBSSw4QkFBZ0IsUUFBUSxDQUFDO0tBQUEsQ0FBQyxDQUFBO0dBQ2xFOztlQUhVLHFCQUFxQjs7V0FLcEIsc0JBQUMsR0FBRyxFQUFFO0FBQ2hCLFVBQU0sU0FBUyxHQUFHLGdCQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLFVBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsTUFBTTtlQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDO09BQUEsQ0FBQyxDQUFDO0FBQy9FLGFBQU8sdUNBQWEsRUFBRSw0QkFBSyxRQUFRLEdBQUMsQ0FBQztLQUN0Qzs7O1NBVFUscUJBQXFCIiwiZmlsZSI6Ii9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9zZW5zZS9zZXJ2ZXIvcHJveHlfY29uZmlnX2NvbGxlY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0c0RlZXAgfSBmcm9tICdsb2Rhc2gnXG5cbmltcG9ydCB7IFByb3h5Q29uZmlnIH0gZnJvbSAnLi9wcm94eV9jb25maWcnXG5pbXBvcnQgeyBwYXJzZSBhcyBwYXJzZVVybCB9IGZyb20gJ3VybCdcblxuXG5leHBvcnQgY2xhc3MgUHJveHlDb25maWdDb2xsZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoY29uZmlncyA9IFtdKSB7XG4gICAgdGhpcy5jb25maWdzID0gY29uZmlncy5tYXAoc2V0dGluZ3MgPT4gbmV3IFByb3h5Q29uZmlnKHNldHRpbmdzKSlcbiAgfVxuXG4gIGNvbmZpZ0ZvclVyaSh1cmkpIHtcbiAgICBjb25zdCBwYXJzZWRVcmkgPSBwYXJzZVVybCh1cmkpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5jb25maWdzLm1hcChjb25maWcgPT4gY29uZmlnLmdldEZvclBhcnNlZFVyaShwYXJzZWRVcmkpKTtcbiAgICByZXR1cm4gZGVmYXVsdHNEZWVwKHt9LCAuLi5zZXR0aW5ncyk7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/proxy_config_collection.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;sBAA6B,QAAQ;;4BAET,gBAAgB;;mBACV,KAAK;;IAG1B,qBAAqB;AACrB,WADA,qBAAqB,GACN;QAAd,OAAO,yDAAG,EAAE;;0BADb,qBAAqB;;AAE9B,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,QAAQ;aAAI,8BAAgB,QAAQ,CAAC;KAAA,CAAC,CAAA;GAClE;;eAHU,qBAAqB;;WAKpB,sBAAC,GAAG,EAAE;AAChB,UAAM,SAAS,GAAG,gBAAS,GAAG,CAAC,CAAC;AAChC,UAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;eAAI,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC;OAAA,CAAC,CAAC;AAC/E,aAAO,uCAAa,EAAE,4BAAK,QAAQ,GAAC,CAAC;KACtC;;;SATU,qBAAqB",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/proxy_config_collection.js",
      "sourcesContent": [
        "import { defaultsDeep } from 'lodash'\n\nimport { ProxyConfig } from './proxy_config'\nimport { parse as parseUrl } from 'url'\n\n\nexport class ProxyConfigCollection {\n  constructor(configs = []) {\n    this.configs = configs.map(settings => new ProxyConfig(settings))\n  }\n\n  configForUri(uri) {\n    const parsedUri = parseUrl(uri);\n    const settings = this.configs.map(config => config.getForParsedUri(parsedUri));\n    return defaultsDeep({}, ...settings);\n  }\n}\n"
      ]
    },
    "mtime": 1457678751000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/proxy_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "memoize",
              "values"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "memoize",
                "local": "memoize"
              },
              {
                "kind": "named",
                "imported": "values",
                "local": "values"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              }
            ]
          },
          {
            "source": "https",
            "imported": [
              "Agent"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Agent",
                "local": "HttpsAgent"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFileSync"
              }
            ]
          },
          {
            "source": "./wildcard_matcher",
            "imported": [
              "WildcardMatcher"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "WildcardMatcher",
                "local": "WildcardMatcher"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ProxyConfig"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ProxyConfig",
              "exported": "ProxyConfig"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _url = require('url');\n\nvar _https = require('https');\n\nvar _fs = require('fs');\n\nvar _wildcard_matcher = require('./wildcard_matcher');\n\nvar makeHttpsAgent = (0, _lodash.memoize)(function (opts) {\n  return new _https.Agent(opts);\n}, function (opts) {\n  return JSON.stringify(opts);\n});\n\nvar ProxyConfig = (function () {\n  function ProxyConfig(config) {\n    _classCallCheck(this, ProxyConfig);\n\n    config = Object.assign({}, config);\n\n    // -----\n    // read \"match\" info\n    // -----\n    var rawMatches = Object.assign({}, config.match);\n    this.id = (0, _url.format)({\n      protocol: rawMatches.protocol,\n      hostname: rawMatches.host,\n      port: rawMatches.port,\n      pathname: rawMatches.path\n    }) || '*';\n\n    this.matchers = {\n      protocol: new _wildcard_matcher.WildcardMatcher(rawMatches.protocol),\n      host: new _wildcard_matcher.WildcardMatcher(rawMatches.host),\n      port: new _wildcard_matcher.WildcardMatcher(rawMatches.port),\n      path: new _wildcard_matcher.WildcardMatcher(rawMatches.path, '/')\n    };\n\n    // -----\n    // read config vars\n    // -----\n    this.timeout = config.timeout;\n    this.sslAgent = this._makeSslAgent(config);\n  }\n\n  _createClass(ProxyConfig, [{\n    key: '_makeSslAgent',\n    value: function _makeSslAgent(config) {\n      var ssl = config.ssl || {};\n      this.verifySsl = ssl.verify;\n\n      var sslAgentOpts = {\n        ca: ssl.ca && ssl.ca.map(function (ca) {\n          return (0, _fs.readFileSync)(ca);\n        }),\n        cert: ssl.cert && (0, _fs.readFileSync)(ssl.cert),\n        key: ssl.key && (0, _fs.readFileSync)(ssl.key)\n      };\n\n      if ((0, _lodash.values)(sslAgentOpts).filter(Boolean).length) {\n        return new _https.Agent(sslAgentOpts);\n      }\n    }\n  }, {\n    key: 'getForParsedUri',\n    value: function getForParsedUri(_ref) {\n      var protocol = _ref.protocol;\n      var hostname = _ref.hostname;\n      var port = _ref.port;\n      var pathname = _ref.pathname;\n\n      var match = this.matchers.protocol.match(protocol.slice(0, -1));\n      match = match && this.matchers.host.match(hostname);\n      match = match && this.matchers.port.match(port);\n      match = match && this.matchers.path.match(pathname);\n\n      if (!match) return {};\n      return {\n        timeout: this.timeout,\n        rejectUnauthorized: this.sslAgent ? true : this.verifySsl,\n        agent: protocol === 'https:' ? this.sslAgent : undefined\n      };\n    }\n  }]);\n\n  return ProxyConfig;\n})();\n\nexports.ProxyConfig = ProxyConfig;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9zZW5zZS9zZXJ2ZXIvcHJveHlfY29uZmlnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7c0JBQWdDLFFBQVE7O21CQUNKLEtBQUs7O3FCQUNMLE9BQU87O2tCQUNkLElBQUk7O2dDQUVELG9CQUFvQjs7QUFFcEQsSUFBTSxjQUFjLEdBQUcscUJBQ3JCLFVBQUEsSUFBSTtTQUFJLGlCQUFlLElBQUksQ0FBQztDQUFBLEVBQzVCLFVBQUEsSUFBSTtTQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO0NBQUEsQ0FDN0IsQ0FBQTs7SUFFWSxXQUFXO0FBQ1gsV0FEQSxXQUFXLENBQ1YsTUFBTSxFQUFFOzBCQURULFdBQVc7O0FBRXBCLFVBQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQzs7Ozs7QUFLbkMsUUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25ELFFBQUksQ0FBQyxFQUFFLEdBQUcsaUJBQVU7QUFDbEIsY0FBUSxFQUFFLFVBQVUsQ0FBQyxRQUFRO0FBQzdCLGNBQVEsRUFBRSxVQUFVLENBQUMsSUFBSTtBQUN6QixVQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7QUFDckIsY0FBUSxFQUFFLFVBQVUsQ0FBQyxJQUFJO0tBQzFCLENBQUMsSUFBSSxHQUFHLENBQUM7O0FBRVYsUUFBSSxDQUFDLFFBQVEsR0FBRztBQUNkLGNBQVEsRUFBRSxzQ0FBb0IsVUFBVSxDQUFDLFFBQVEsQ0FBQztBQUNsRCxVQUFJLEVBQUUsc0NBQW9CLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDMUMsVUFBSSxFQUFFLHNDQUFvQixVQUFVLENBQUMsSUFBSSxDQUFDO0FBQzFDLFVBQUksRUFBRSxzQ0FBb0IsVUFBVSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUM7S0FDaEQsQ0FBQzs7Ozs7QUFLRixRQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDOUIsUUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0dBQzVDOztlQTNCVSxXQUFXOztXQTZCVCx1QkFBQyxNQUFNLEVBQUU7QUFDcEIsVUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUM7QUFDN0IsVUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUU1QixVQUFNLFlBQVksR0FBRztBQUNuQixVQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFBLEVBQUU7aUJBQUksc0JBQWEsRUFBRSxDQUFDO1NBQUEsQ0FBQztBQUNoRCxZQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksSUFBSSxzQkFBYSxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQ3hDLFdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLHNCQUFhLEdBQUcsQ0FBQyxHQUFHLENBQUM7T0FDdEMsQ0FBQzs7QUFFRixVQUFJLG9CQUFPLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUU7QUFDL0MsZUFBTyxpQkFBZSxZQUFZLENBQUMsQ0FBQztPQUNyQztLQUNGOzs7V0FFYyx5QkFBQyxJQUFzQyxFQUFFO1VBQXRDLFFBQVEsR0FBVixJQUFzQyxDQUFwQyxRQUFRO1VBQUUsUUFBUSxHQUFwQixJQUFzQyxDQUExQixRQUFRO1VBQUUsSUFBSSxHQUExQixJQUFzQyxDQUFoQixJQUFJO1VBQUUsUUFBUSxHQUFwQyxJQUFzQyxDQUFWLFFBQVE7O0FBQ2xELFVBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEUsV0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDcEQsV0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEQsV0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRXBELFVBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUM7QUFDdEIsYUFBTztBQUNMLGVBQU8sRUFBRSxJQUFJLENBQUMsT0FBTztBQUNyQiwwQkFBa0IsRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUztBQUN6RCxhQUFLLEVBQUUsUUFBUSxLQUFLLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVM7T0FDekQsQ0FBQztLQUNIOzs7U0F4RFUsV0FBVyIsImZpbGUiOiIvVXNlcnMvVGhlby9EZXNrdG9wL05lYnVsYS9lbGFzdGljc2VhcmNoL2luc3RhbGxlZFBsdWdpbnMvc2Vuc2Uvc2VydmVyL3Byb3h5X2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1lbW9pemUsIHZhbHVlcyB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IGZvcm1hdCBhcyBmb3JtYXRVcmwgfSBmcm9tICd1cmwnXG5pbXBvcnQgeyBBZ2VudCBhcyBIdHRwc0FnZW50IH0gZnJvbSAnaHR0cHMnXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcydcblxuaW1wb3J0IHsgV2lsZGNhcmRNYXRjaGVyIH0gZnJvbSAnLi93aWxkY2FyZF9tYXRjaGVyJ1xuXG5jb25zdCBtYWtlSHR0cHNBZ2VudCA9IG1lbW9pemUoXG4gIG9wdHMgPT4gbmV3IEh0dHBzQWdlbnQob3B0cyksXG4gIG9wdHMgPT4gSlNPTi5zdHJpbmdpZnkob3B0cylcbilcblxuZXhwb3J0IGNsYXNzIFByb3h5Q29uZmlnIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnKTtcblxuICAgIC8vIC0tLS0tXG4gICAgLy8gcmVhZCBcIm1hdGNoXCIgaW5mb1xuICAgIC8vIC0tLS0tXG4gICAgY29uc3QgcmF3TWF0Y2hlcyA9IE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZy5tYXRjaCk7XG4gICAgdGhpcy5pZCA9IGZvcm1hdFVybCh7XG4gICAgICBwcm90b2NvbDogcmF3TWF0Y2hlcy5wcm90b2NvbCxcbiAgICAgIGhvc3RuYW1lOiByYXdNYXRjaGVzLmhvc3QsXG4gICAgICBwb3J0OiByYXdNYXRjaGVzLnBvcnQsXG4gICAgICBwYXRobmFtZTogcmF3TWF0Y2hlcy5wYXRoXG4gICAgfSkgfHwgJyonO1xuXG4gICAgdGhpcy5tYXRjaGVycyA9IHtcbiAgICAgIHByb3RvY29sOiBuZXcgV2lsZGNhcmRNYXRjaGVyKHJhd01hdGNoZXMucHJvdG9jb2wpLFxuICAgICAgaG9zdDogbmV3IFdpbGRjYXJkTWF0Y2hlcihyYXdNYXRjaGVzLmhvc3QpLFxuICAgICAgcG9ydDogbmV3IFdpbGRjYXJkTWF0Y2hlcihyYXdNYXRjaGVzLnBvcnQpLFxuICAgICAgcGF0aDogbmV3IFdpbGRjYXJkTWF0Y2hlcihyYXdNYXRjaGVzLnBhdGgsICcvJyksXG4gICAgfTtcblxuICAgIC8vIC0tLS0tXG4gICAgLy8gcmVhZCBjb25maWcgdmFyc1xuICAgIC8vIC0tLS0tXG4gICAgdGhpcy50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG4gICAgdGhpcy5zc2xBZ2VudCA9IHRoaXMuX21ha2VTc2xBZ2VudChjb25maWcpO1xuICB9XG5cbiAgX21ha2VTc2xBZ2VudChjb25maWcpIHtcbiAgICBjb25zdCBzc2wgPSBjb25maWcuc3NsIHx8IHt9O1xuICAgIHRoaXMudmVyaWZ5U3NsID0gc3NsLnZlcmlmeTtcblxuICAgIGNvbnN0IHNzbEFnZW50T3B0cyA9IHtcbiAgICAgIGNhOiBzc2wuY2EgJiYgc3NsLmNhLm1hcChjYSA9PiByZWFkRmlsZVN5bmMoY2EpKSxcbiAgICAgIGNlcnQ6IHNzbC5jZXJ0ICYmIHJlYWRGaWxlU3luYyhzc2wuY2VydCksXG4gICAgICBrZXk6IHNzbC5rZXkgJiYgcmVhZEZpbGVTeW5jKHNzbC5rZXkpLFxuICAgIH07XG5cbiAgICBpZiAodmFsdWVzKHNzbEFnZW50T3B0cykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG5ldyBIdHRwc0FnZW50KHNzbEFnZW50T3B0cyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Rm9yUGFyc2VkVXJpKHsgcHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0LCBwYXRobmFtZSB9KSB7XG4gICAgbGV0IG1hdGNoID0gdGhpcy5tYXRjaGVycy5wcm90b2NvbC5tYXRjaChwcm90b2NvbC5zbGljZSgwLCAtMSkpO1xuICAgIG1hdGNoID0gbWF0Y2ggJiYgdGhpcy5tYXRjaGVycy5ob3N0Lm1hdGNoKGhvc3RuYW1lKTtcbiAgICBtYXRjaCA9IG1hdGNoICYmIHRoaXMubWF0Y2hlcnMucG9ydC5tYXRjaChwb3J0KTtcbiAgICBtYXRjaCA9IG1hdGNoICYmIHRoaXMubWF0Y2hlcnMucGF0aC5tYXRjaChwYXRobmFtZSk7XG5cbiAgICBpZiAoIW1hdGNoKSByZXR1cm4ge307XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdGhpcy5zc2xBZ2VudCA/IHRydWUgOiB0aGlzLnZlcmlmeVNzbCxcbiAgICAgIGFnZW50OiBwcm90b2NvbCA9PT0gJ2h0dHBzOicgPyB0aGlzLnNzbEFnZW50IDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/proxy_config.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/proxy_config.js",
      "sourcesContent": [
        "import { memoize, values } from 'lodash'\nimport { format as formatUrl } from 'url'\nimport { Agent as HttpsAgent } from 'https'\nimport { readFileSync } from 'fs'\n\nimport { WildcardMatcher } from './wildcard_matcher'\n\nconst makeHttpsAgent = memoize(\n  opts => new HttpsAgent(opts),\n  opts => JSON.stringify(opts)\n)\n\nexport class ProxyConfig {\n  constructor(config) {\n    config = Object.assign({}, config);\n\n    // -----\n    // read \"match\" info\n    // -----\n    const rawMatches = Object.assign({}, config.match);\n    this.id = formatUrl({\n      protocol: rawMatches.protocol,\n      hostname: rawMatches.host,\n      port: rawMatches.port,\n      pathname: rawMatches.path\n    }) || '*';\n\n    this.matchers = {\n      protocol: new WildcardMatcher(rawMatches.protocol),\n      host: new WildcardMatcher(rawMatches.host),\n      port: new WildcardMatcher(rawMatches.port),\n      path: new WildcardMatcher(rawMatches.path, '/'),\n    };\n\n    // -----\n    // read config vars\n    // -----\n    this.timeout = config.timeout;\n    this.sslAgent = this._makeSslAgent(config);\n  }\n\n  _makeSslAgent(config) {\n    const ssl = config.ssl || {};\n    this.verifySsl = ssl.verify;\n\n    const sslAgentOpts = {\n      ca: ssl.ca && ssl.ca.map(ca => readFileSync(ca)),\n      cert: ssl.cert && readFileSync(ssl.cert),\n      key: ssl.key && readFileSync(ssl.key),\n    };\n\n    if (values(sslAgentOpts).filter(Boolean).length) {\n      return new HttpsAgent(sslAgentOpts);\n    }\n  }\n\n  getForParsedUri({ protocol, hostname, port, pathname }) {\n    let match = this.matchers.protocol.match(protocol.slice(0, -1));\n    match = match && this.matchers.host.match(hostname);\n    match = match && this.matchers.port.match(port);\n    match = match && this.matchers.path.match(pathname);\n\n    if (!match) return {};\n    return {\n      timeout: this.timeout,\n      rejectUnauthorized: this.sslAgent ? true : this.verifySsl,\n      agent: protocol === 'https:' ? this.sslAgent : undefined\n    };\n  }\n}\n"
      ]
    },
    "mtime": 1457681754000
  },
  "{\"filename\":\"/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/wildcard_matcher.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":2,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.23": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "minimatch",
            "imported": [
              "Minimatch"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Minimatch",
                "local": "Minimatch"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "WildcardMatcher"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "WildcardMatcher",
              "exported": "WildcardMatcher"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _minimatch = require('minimatch');\n\nvar WildcardMatcher = (function () {\n  function WildcardMatcher(wildcardPattern, emptyVal) {\n    _classCallCheck(this, WildcardMatcher);\n\n    this.emptyVal = emptyVal;\n    this.pattern = String(wildcardPattern || '*');\n    this.matcher = new _minimatch.Minimatch(this.pattern, {\n      noglobstar: true,\n      dot: true,\n      nocase: true,\n      matchBase: true,\n      nocomment: true\n    });\n  }\n\n  _createClass(WildcardMatcher, [{\n    key: 'match',\n    value: function match(candidate) {\n      var empty = !candidate || candidate === this.emptyVal;\n      if (empty && this.pattern === '*') {\n        return true;\n      }\n\n      return this.matcher.match(candidate || '');\n    }\n  }]);\n\n  return WildcardMatcher;\n})();\n\nexports.WildcardMatcher = WildcardMatcher;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9UaGVvL0Rlc2t0b3AvTmVidWxhL2VsYXN0aWNzZWFyY2gvaW5zdGFsbGVkUGx1Z2lucy9zZW5zZS9zZXJ2ZXIvd2lsZGNhcmRfbWF0Y2hlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3lCQUEwQixXQUFXOztJQUV4QixlQUFlO0FBQ2YsV0FEQSxlQUFlLENBQ2QsZUFBZSxFQUFFLFFBQVEsRUFBRTswQkFENUIsZUFBZTs7QUFFeEIsUUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDekIsUUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsZUFBZSxJQUFJLEdBQUcsQ0FBQyxDQUFDO0FBQzlDLFFBQUksQ0FBQyxPQUFPLEdBQUcseUJBQWMsSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUN6QyxnQkFBVSxFQUFFLElBQUk7QUFDaEIsU0FBRyxFQUFFLElBQUk7QUFDVCxZQUFNLEVBQUUsSUFBSTtBQUNaLGVBQVMsRUFBRSxJQUFJO0FBQ2YsZUFBUyxFQUFFLElBQUk7S0FDaEIsQ0FBQyxDQUFBO0dBQ0g7O2VBWFUsZUFBZTs7V0FhckIsZUFBQyxTQUFTLEVBQUU7QUFDZixVQUFNLEtBQUssR0FBRyxDQUFDLFNBQVMsSUFBSSxTQUFTLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQztBQUN4RCxVQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEdBQUcsRUFBRTtBQUNqQyxlQUFPLElBQUksQ0FBQztPQUNiOztBQUVELGFBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQyxDQUFBO0tBQzNDOzs7U0FwQlUsZUFBZSIsImZpbGUiOiIvVXNlcnMvVGhlby9EZXNrdG9wL05lYnVsYS9lbGFzdGljc2VhcmNoL2luc3RhbGxlZFBsdWdpbnMvc2Vuc2Uvc2VydmVyL3dpbGRjYXJkX21hdGNoZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaW5pbWF0Y2ggfSBmcm9tICdtaW5pbWF0Y2gnXG5cbmV4cG9ydCBjbGFzcyBXaWxkY2FyZE1hdGNoZXIge1xuICBjb25zdHJ1Y3Rvcih3aWxkY2FyZFBhdHRlcm4sIGVtcHR5VmFsKSB7XG4gICAgdGhpcy5lbXB0eVZhbCA9IGVtcHR5VmFsO1xuICAgIHRoaXMucGF0dGVybiA9IFN0cmluZyh3aWxkY2FyZFBhdHRlcm4gfHwgJyonKTtcbiAgICB0aGlzLm1hdGNoZXIgPSBuZXcgTWluaW1hdGNoKHRoaXMucGF0dGVybiwge1xuICAgICAgbm9nbG9ic3RhcjogdHJ1ZSxcbiAgICAgIGRvdDogdHJ1ZSxcbiAgICAgIG5vY2FzZTogdHJ1ZSxcbiAgICAgIG1hdGNoQmFzZTogdHJ1ZSxcbiAgICAgIG5vY29tbWVudDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBtYXRjaChjYW5kaWRhdGUpIHtcbiAgICBjb25zdCBlbXB0eSA9ICFjYW5kaWRhdGUgfHwgY2FuZGlkYXRlID09PSB0aGlzLmVtcHR5VmFsO1xuICAgIGlmIChlbXB0eSAmJiB0aGlzLnBhdHRlcm4gPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlci5tYXRjaChjYW5kaWRhdGUgfHwgJycpXG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/wildcard_matcher.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;yBAA0B,WAAW;;IAExB,eAAe;AACf,WADA,eAAe,CACd,eAAe,EAAE,QAAQ,EAAE;0BAD5B,eAAe;;AAExB,QAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,QAAI,CAAC,OAAO,GAAG,MAAM,CAAC,eAAe,IAAI,GAAG,CAAC,CAAC;AAC9C,QAAI,CAAC,OAAO,GAAG,yBAAc,IAAI,CAAC,OAAO,EAAE;AACzC,gBAAU,EAAE,IAAI;AAChB,SAAG,EAAE,IAAI;AACT,YAAM,EAAE,IAAI;AACZ,eAAS,EAAE,IAAI;AACf,eAAS,EAAE,IAAI;KAChB,CAAC,CAAA;GACH;;eAXU,eAAe;;WAarB,eAAC,SAAS,EAAE;AACf,UAAM,KAAK,GAAG,CAAC,SAAS,IAAI,SAAS,KAAK,IAAI,CAAC,QAAQ,CAAC;AACxD,UAAI,KAAK,IAAI,IAAI,CAAC,OAAO,KAAK,GAAG,EAAE;AACjC,eAAO,IAAI,CAAC;OACb;;AAED,aAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC,CAAA;KAC3C;;;SApBU,eAAe",
      "file": "/Users/Theo/Desktop/Nebula/elasticsearch/installedPlugins/sense/server/wildcard_matcher.js",
      "sourcesContent": [
        "import { Minimatch } from 'minimatch'\n\nexport class WildcardMatcher {\n  constructor(wildcardPattern, emptyVal) {\n    this.emptyVal = emptyVal;\n    this.pattern = String(wildcardPattern || '*');\n    this.matcher = new Minimatch(this.pattern, {\n      noglobstar: true,\n      dot: true,\n      nocase: true,\n      matchBase: true,\n      nocomment: true\n    })\n  }\n\n  match(candidate) {\n    const empty = !candidate || candidate === this.emptyVal;\n    if (empty && this.pattern === '*') {\n      return true;\n    }\n\n    return this.matcher.match(candidate || '')\n  }\n}\n"
      ]
    },
    "mtime": 1457678751000
  }
}